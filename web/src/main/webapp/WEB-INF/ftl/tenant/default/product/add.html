<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>商品信息</title>
	<!-- Tell the browser to be responsive to screen width -->
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<!-- Bootstrap 3.3.6 -->
	<link rel="stylesheet" href="${siteurl}bootstrap/css/bootstrap.min.css">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="${siteurl}plugins/FontAwesome/css/font-awesome.min.css">
	<!-- Ionicons -->
	<link rel="stylesheet" href="${siteurl}plugins/ionicons201/css/ionicons.min.css">
	<!-- Theme style -->
	<link rel="stylesheet" href="${siteurl}dist/css/AdminLTE.min.css">
	<!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
	<link rel="stylesheet" href="${siteurl}dist/css/skins/_all-skins.min.css">

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	[#include "/admin/common/commons.html"]

	<!-- jQuery 2.2.3 -->
	<script src="${siteurl}plugins/jQuery/jquery-2.2.3.min.js"></script>
	<!-- Bootstrap 3.3.6 -->
	<script src="${siteurl}bootstrap/js/bootstrap.min.js"></script>
	<!-- SlimScroll -->
	<script src="${siteurl}plugins/slimScroll/jquery.slimscroll.min.js"></script>
	<!-- FastClick -->
	<script src="${siteurl}plugins/fastclick/fastclick.js"></script>
	<!-- AdminLTE App -->
	<script src="${siteurl}dist/js/adminlte.min.js"></script>
	<link rel="stylesheet" href="${siteurl}plugins/vue-element/element.css">

	<link href="${siteurl}dist/js/summernote/dist/summernote.css" rel="stylesheet"/>
	<script src="${siteurl}dist/js/summernote/dist/summernote.js"></script>
	<script src="${siteurl}dist/js/summernote/dist/lang/summernote-zh-CN.js"></script> 
</head>
<style>
	.content-header {
		padding: 0;
	}

	.el-checkbox {
		margin-bottom: 0;
	}

	.content {
		padding: 0 10px 10px;
		background-color: #f9f9f9;
		overflow-y: auto;
	}

	ul {
		padding: 0;
		margin: 0;
		list-style: none;
	}

	[v-cloak] {
		display: none;
	}

	h3 {
		margin-top: 15px;
		margin-bottom: 24px;
		padding-bottom: 10px;
		font-size: 14px;
		line-height: 16px;
		border-bottom: 1px solid #e9e9e9;
	}

	h3 span {
		display: block;
		padding-left: 10px;
		margin-right: 5px;
		border-left: 3px solid #5491de;
	}

	.el-dialog__header {
		padding: 14px 16px;
		border-radius: 2px 2px 0 0;
		background: #fff;
		color: #666;
		border-bottom: 1px solid #e9e9e9;
	}

	.el-dialog__header .el-dialog__title {
		margin: 0;
		font-size: 14px;
		line-height: 21px;
		font-weight: bold;
	}

	.el-dialog__header .el-dialog__headerbtn {
		top: 14px;
	}

	.el-dialog__body {
		padding: 20px 20px 0;
	}

	.el-radio {
		margin-bottom: 0;
	}

	/* 导航 */
	.navigation {
		height: 60px;
		line-height: 60px;
		background-color: #f9f9f9;
		padding-left: 10px;
	}

	.navigation i {
		color: #d9dee5;
		display: inline-block;
		font-size: 14px;
		color: #666666;
		font-style: normal;
	}

	.navigation i::after {
		content: '/';
		display: inline-block;
		margin: 0 5px;
	}

	.navigation span {
		font-weight: 700;
		font-size: 14px;
		color: #666666;
	}

	.el-menu--horizontal>.el-menu-item {
		height: 36px;
		line-height: 36px;
	}

	.goods_content {
		padding: 15px;
		background-color: #fff;
		height: 100%;
	}

	/* 商品信息 */
	.goodsInfoFrom {

	}

	.fromTitle {
		padding-left: 10px;
		font-size: 12px;
		color: #999;
	}

	.el-form-item__label {
		font-size: 12px;
		color: #666;
		font-weight: 400;
	}

	.goodsInfoFrom .el-select {
		width: 100%;
	}
	
	.el-form-item {
		margin-bottom: 20px;
	}

	.el-form-item__label {
		margin-bottom: 0;
	}

	.el-radio-button {
		margin-right: 10px;
	}

	.el-radio-button--small .el-radio-button__inner {
		border-radius: 4px;
		border: 1px solid #DCDFE6;
	}

	.el-radio-button:first-child .el-radio-button__inner, .el-radio-button:last-child .el-radio-button__inner {
		border-radius: 4px;
	}

	.avatar-uploader .el-upload {
		border: 1px dashed #d9d9d9;
		border-radius: 6px;
		cursor: pointer;
		position: relative;
		overflow: hidden;
		width: 64px;
		height: 64px;
	}
	.avatar-uploader .el-upload:hover {
		border-color: #409EFF;
	}
	.el-upload--picture-card {
		background-color: #fbfdff;
		border: 1px dashed #c0ccda;
		border-radius: 6px;
		box-sizing: border-box;
		width: 64px;
		height: 64px;
		line-height: 64px;
		vertical-align: top;
	}

	.el-upload--picture-card i {
		font-size: 18px;
	}

	.el-upload--picture-card input {
		display: none;
	}

	.el-upload-list--picture-card .el-upload-list__item {
		overflow: hidden;
		background-color: #fff;
		border: 1px solid #c0ccda;
		border-radius: 6px;
		-webkit-box-sizing: border-box;
		box-sizing: border-box;
		width: 64px;
		height: 64px;
		margin: 0 8px 8px 0;
		display: inline-block;
	}

	.el-upload-list--picture-card .el-upload-list__item-actions span+span {
		margin-left: 10px;
	}

	[class*=" el-icon-"], [class^=el-icon-] {
		font-size: 14px;
	}

	/* 购买信息 */
	.buyInfo {
		font-size: 12px;
		color: #666;
	}

	.buyInfo .buyTitle {
		margin-left: 10px;
		font-style: normal;
	}

	.buyInfo .el-checkbox__label {
		font-size: 12px;
		color: #666;
	}

	.page .total {
		line-height: 32px;
		color: #666666;
    	font-size: 12px;
	}

	/* 规格信息 */
	.addSpecificationsList {
		border-bottom: 1px dashed #e9e9e9;
		opacity: 0.9;
		cursor: pointer;
	}

	.addSpecificationsList .addSpecificationsItem {
		padding: 10px 0;
		margin: 10px 10px;
		border: 1px dashed #fff;
	}

	.addSpecificationsList .addSpecificationsItem:hover {
		border-color: #ccc;
	}

	.addSpecificationsList .delect {
		position: absolute;
		right: -3px;
    	top: -7px;
		font-size: 18px;
		color: rgba(0, 0, 0, 0.2);
	}

	.addSpecificationsList ul {
		margin-top: 10px;
	}

	.addSpecificationsList li {
		display: inline-block;
		line-height: 20px;
		height: 22px;
		padding: 0 8px;
		border-radius: 2px;
		border: 1px solid #e9e9e9;
		background: #f7f7f7;
		font-size: 12px;
		transition: all 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);
		vertical-align: middle;
		opacity: 1;
		overflow: hidden;
		margin: 4px 8px 4px 0;
		cursor: pointer;
		color: #666;
		cursor: pointer;
	}

	.addSpecificationsList li i {
		margin-left: 3px;
    	color: #666;
		font-size: 12px;
	}

	.addSpecificationsList li:hover {
		opacity: 0.85;
	}

	.addSpecificationsList .addSpecificationsValue {
		font-size: 12px;
		color: #5491de;
		line-height: 32px;
	}

	.goodsTitle {
		line-height: 32px;
		text-align: right;
		color: #666;
		font-size: 12px;
		padding-left: 10px;
	}

	.next {
		text-align: center;
		margin: 10px 0;
	}
</style>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

	<header class="main-header">
		<!-- Header Navbar: style can be found in header.less -->
		[#include "/admin/common/nav.html"]
	</header>

	<!-- =============================================== -->

	<!-- Left side column. contains the sidebar -->
	<aside class="main-sidebar">
		<!-- sidebar: style can be found in sidebar.less -->
		<section class="sidebar">
			<!-- Sidebar user panel -->
			[@user_panel /]
			<!-- search form -->
			[@sidebar_form /]
			<!-- /.search form -->
			<!-- sidebar menu: : style can be found in sidebar.less -->
			<ul class="sidebar-menu" data-widget="tree">
				<li class="header">主面板</li>
				[@menustag id=1]
				[#list list as item]
				[@menu item "1,113,115"]
				[/@menu]
				[/#list]
				[/@menustag]
			</ul>
		</section>
		<!-- /.sidebar -->
	</aside>

	<!-- =============================================== -->

	<!-- Content Wrapper. Contains page content -->
	<div class="content-wrapper">
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<!-- 导航 -->
			<div class="navigation">
				<i>商品</i><i>新增商品</i> <span>自助上货</span>
			</div>
		</section>
		<!-- Main content -->
		<section class="content">

			<!-- Default box -->
			<!-- 内容 -->
			<div class="goods_content"  id="app" v-cloak>
				<!-- tab -->
				<el-menu :default-active="activeIndex" active-text-color="#5491de" text-color="#666"
					class="el-menu-demo" mode="horizontal" @select="handleSelect">
					<el-menu-item index="1" :disabled="activeIndex != '1'">基本信息</el-menu-item>
					<el-menu-item index="2" :disabled="activeIndex != '2'">图文详情</el-menu-item>
					<el-menu-item index="3" :disabled="activeIndex != '3'">其他信息</el-menu-item>
				</el-menu>

				<!-- 基本信息 -->
				<div v-show="activeIndex == '1'">
					<!-- 商品信息 -->
					<div class="goodsInfo">
						<h3>
							<span>商品信息</span>
						</h3>
						<div class="goodsInfoFrom">
							<el-row type="flex" class="row-bg" justify="center">
								<el-col :span="14">
									<el-form ref="form" :rules="form_rules" :model="form" label-width="100px">
										<el-form-item label="商品编码：">
											<el-row>
												<el-col :span="12">
													<el-input size="small" v-model="form.barCode" placeholder="请输入商品编码："></el-input>
												</el-col>
												<el-col :span="12">
													<span class="fromTitle" style="margin-left: 10px;">若未填入则系统将自动生成商品编码</span>
												</el-col>
											</el-row>
										</el-form-item>
										
										<el-form-item label="商品名称：" prop="name">
											<el-row>
												<el-col :span="12">
													<el-input size="small" v-model="form.name" placeholder="商品名称,2-120字"></el-input>
												</el-col>
												<el-col :span="12">
													<span class="fromTitle" style="margin-left: 10px;"></span>
												</el-col>
											</el-row>
										</el-form-item>
										<el-form-item label="展示分类：" prop="catalog">
											<el-row>
												<el-col :span="12">
													<el-cascader
													placeholder="请选择分类"
													style="width: 100%;"
													size="small"
													v-model="form.catalog"
													:options="showOptions"
													:props="props"
													clearable>
													</el-cascader>
												</el-col>
												<el-col :span="12">
													<span class="fromTitle" style="margin-left: 10px;color: #508ad3;cursor: pointer;" @click="openDoodsInfo('新增分类')">＋新增分类</span>
												</el-col>
											</el-row>
										</el-form-item>
										<el-form-item label="商品品牌：">
											<el-row>
												<el-col :span="12">
													<el-select v-model="form.brand" size="small" placeholder="请选择品牌">
														<el-option
														v-for="item in brandOptions"
														:key="item.id"
														:label="item.name"
														:value="item.id">
														</el-option>
													</el-select>
												</el-col>
												<el-col :span="12">
													<span class="fromTitle" style="margin-left: 10px;color: #508ad3;cursor: pointer;" @click="openDoodsInfo('新增品牌')">＋新增品牌</span>
												</el-col>
											</el-row>
										</el-form-item>
										<el-form-item label="供货商：">
											<el-row>
												<el-col :span="12">
													<el-select size="small" v-model="form.supplier"  placeholder="请选择供货商">
														<el-option
														v-for="item in supplierOptions"
														:key="item.id"
														:label="item.name"
														:value="item.id">
														</el-option>
													</el-select>
												</el-col>
												<el-col :span="12">
													<span class="fromTitle" style="margin-left: 10px;color: #508ad3;cursor: pointer;" @click="openDoodsInfo('新增供货商')">新增供货商</span>
												</el-col>
											</el-row>
										</el-form-item>
										<el-form-item label="计量单位：">
											<el-row>
												<el-col :span="12">
													<el-select v-model="form.unit" size="small" placeholder="您可以搜索单位或输入并回车新增单位">
														<el-option
														v-for="item in measurementOptions"
														:key="item.label"
														:label="item.label"
														:value="item.label">
														</el-option>
													</el-select>
												</el-col>
												<el-col :span="12">
													<span class="fromTitle" style="margin-left: 10px;">选填，个、件、箱</span>
												</el-col>
											</el-row>
										</el-form-item>
										
										
										<el-form-item label="商品标签：">
											<el-radio-group v-model="form.label" size="small">
											<el-radio-button v-for="item in brandLabelOptions" :key="item.id" :label="item.id">{{item.name}}</el-radio-button>
											</el-radio-group>
											<span class="fromTitle" style="color: #508ad3;cursor: pointer;" @click="openDoodsInfo('新增标签')">＋新增标签</span>
										</el-form-item>
										<el-form-item label="单位精度：">
											<el-radio v-model="form.precision" label="1">整数</el-radio>
											<el-radio v-model="form.precision" label="2">小数（1~3位）</el-radio>
											<span class="fromTitle" style="margin-left: -30px;"><i class="el-icon-info"></i>商品发布后精度不可修改</span>
										</el-form-item>
										<el-form-item label="* 商品主图：">
											<el-row>
												<el-col :span="24">
													<el-upload
													action="https://saas.metamall.cn/storage/upload.htm"
													list-type="picture-card"
													:limit="1"
													:on-success="goodsImgSuccess"
													:on-preview="handlePictureCardPreview"
													:on-remove="goodsImgRemove">
													<i class="el-icon-plus"></i>
													</el-upload>
													<el-dialog :visible.sync="dialogVisible">
													<img width="100%" :src="dialogImageUrl" alt="">
													</el-dialog>
												</el-col>
												<el-col :span="24">
													<span class="fromTitle">建议尺寸：800*800px，单张大小不超过1M，最多可上传10张</span>
												</el-col>
											</el-row>
										</el-form-item>
										<!-- -->
										<el-form-item label="主图视频：">
											<el-row>
												<el-col :span="24">
													<el-upload
													action="https://jsonplaceholder.typicode.com/posts/"
													list-type="picture-card"
													:on-preview="handlePictureCardPreview"
													:on-remove="handleRemove">
													<i class="el-icon-plus"></i>
													</el-upload>
													<el-dialog :visible.sync="dialogVisible">
													<img width="100%" :src="dialogImageUrl" alt="">
													</el-dialog>
												</el-col>
												<el-col :span="24">
													<span class="fromTitle">建议视频大小不超过 30 MB，时长9-30秒，建议宽高比1：1或16:9支持的视频文件类型包括：mp4,avi</span>
												</el-col>
											</el-row>
										</el-form-item>
										<el-form-item>
											<div class="next">
												<el-button size="small" type="primary" @click="onSubmit('form')">下一步</el-button>
											</div>
										</el-form-item>
									</el-form>
								</el-col>
							</el-row>
						</div>

						<el-dialog
						:title="goodsTitle"
						:visible.sync="goodsState"
						width="40%"
						:before-close="handleClose">
						<el-row :gutter="20" v-if="goodsTitle == '新增分类'">
							<el-col :span="20" :offset="2">
								<el-row>
									<el-col :span="4">
										<div class="goodsTitle">上级分类：</div>
									</el-col>
									<el-col :span="14">
										<el-cascader
										size="small"
										v-model="form_classify.parent"
										style="width: 100%;"
										placeholder="请选择或输入内容"
										:options="showOptions"
										:props="props"
										filterable>
										</el-cascader>
									</el-col>
									<el-col :span="6">
										<div style="color: #999;text-align: left;" class="goodsTitle">
											顶级分类请选择[无]
										</div>
									</el-col>
								</el-row>
								<el-row style="margin-top: 10px;">
									<el-col :span="4">
										<div class="goodsTitle">* 分类名称：</div>
									</el-col>
									<el-col :span="14">
										<el-input size="small" style="width: 100%;" v-model="form_classify.name"></el-input>
									</el-col>
									<el-col :span="6"></el-col>
								</el-row>
							</el-col>
						</el-row>
						<el-row :gutter="20" v-if="goodsTitle == '新增品牌'">
							<el-col :span="20" :offset="2">
								<el-row>
									<el-col :span="4">
										<div class="goodsTitle">* 品牌名称：</div>
									</el-col>
									<el-col :span="14">
										<el-input size="small" style="width: 100%;" v-model="form_brand.name" placeholder="请输入品牌名称"></el-input>
									</el-col>
									<el-col :span="6"></el-col>
								</el-row>
								<el-row>
									<el-col :span="14" :offset="4">
										<div class="goodsTitle" style="color: #999;text-align: left;padding: 0;">请输入数字、英文和汉字，限1-40字</div>
									</el-col>
								</el-row>
							</el-col>
						</el-row>
						<el-row :gutter="20" v-if="goodsTitle == '新增标签'">
							<el-col :span="20" :offset="2">
								<el-row>
									<el-col :span="4">
										<div class="goodsTitle">* 标签名称：</div>
									</el-col>
									<el-col :span="14">
										<el-input size="small" style="width: 100%;" v-model="form_label.name" placeholder="请输入标签名称"></el-input>
									</el-col>
									<el-col :span="6"></el-col>
								</el-row>
								<el-row>
									<el-col :span="14" :offset="4">
										<div class="goodsTitle" style="color: #999;;text-align: left;padding: 0;">请输入数字、英文和汉字，限1-6字</div>
									</el-col>
								</el-row>
							</el-col>
						</el-row>
						<el-row :gutter="20" v-if="goodsTitle == '新增供货商'">
							<el-col :span="20" :offset="2">
								<el-row>
									<el-col :span="5">
										<div class="goodsTitle">* 供货商名称：</div>
									</el-col>
									<el-col :span="14">
										<el-input size="small" style="width: 100%;" v-model="form_supplier.name" placeholder="请输入供货商名称"></el-input>
									</el-col>
									<el-col :span="5"></el-col>
								</el-row>
								<el-row>
									<el-col :span="14" :offset="5">
										<div class="goodsTitle" style="color: #999;;text-align: left;padding: 0;">请输入数字、英文和汉字，限1-6字</div>
									</el-col>
								</el-row>
							</el-col>
						</el-row>
						<span slot="footer" class="dialog-footer">
							<el-button size="small" @click="goodsState = false">取 消</el-button>
							<el-button size="small" type="primary" @click="addGoodsInfo">确 定</el-button>
						</span>
						</el-dialog>
					</div>

					<!-- 购买信息 -->
					<!-- <div class="buyInfo">
						<h3>
							<span>购买信息</span>
						</h3>
						<el-row type="flex" class="row-bg" justify="center">
							<el-col :span="14">
								<el-row type="flex" class="row-bg" justify="center">
									<el-col :span="3">
										<i class="buyTitle">购买权限：</i>
									</el-col>
									<el-col :span="21" style="margin-left: -10px;">
										<el-checkbox v-model="buyInfo.checked">设置购买权限</el-checkbox>
										<div class="shieldingInfo" v-if="buyInfo.checked">
											<el-row type="flex" class="row-bg" justify="center">
												<el-col :span="10">
													<div style="line-height: 32px;">屏蔽区域</div>
													<div>
														<el-cascader
														placeholder="请选择屏蔽区域"
														style="width: 90%;"
														size="small"
														:options="goodsInfo.options"
														:props="goodsInfo.props"
														clearable>
														</el-cascader>
													</div>
												</el-col>
												<el-col :span="10">
													<div style="line-height: 32px;">屏蔽等级</div>
													<div>
														<el-select style="width: 90%;" size="small" v-model="value1" multiple placeholder="请选择屏蔽等级">
															<el-option
																v-for="item in options"
																:key="item.value"
																:label="item.label"
																:value="item.value">
															</el-option>
														</el-select>
													</div>
												</el-col>
												<el-col :span="4">
													<div style="line-height: 32px;">屏蔽客户</div>
													<div @click="buyInfo.dialogVisible = true" style="line-height: 32px;color: #508ad3;cursor: pointer;">选择客户</div>
												</el-col>
											</el-row>
										</div>
									</el-col>
								</el-row>
							</el-col>
						</el-row>
						<el-dialog
						title="屏蔽客户"
						:visible.sync="buyInfo.dialogVisible"
						width="40%"
						:before-close="handleClose">
						<div class="buyInfo" style="margin-bottom: 10px;">请选择要屏蔽的客户：</div>
						<el-row type="flex" class="row-bg" justify="center">
							<el-col :span="7">
								<el-input style="width: 90%;" size="small" v-model="buyInfo.customerName" placeholder="客户名称/手机号码"></el-input>
							</el-col>
							<el-col :span="7">
								<el-select style="width: 90%;" size="small" v-model="buyInfo.customerLevel" placeholder="客户等级">
									<el-option
										v-for="item in buyInfo.customerLevelList"
										:key="item.value"
										:label="item.label"
										:value="item.value">
									</el-option>
								</el-select>
							</el-col>
							<el-col :span="7">
								<el-cascader
								style="width: 90%;" 
								size="small"
								placeholder="销售区域"
								:options="buyInfo.area"
								:props="{ checkStrictly: true }"
								:show-all-levels="false"
								clearable></el-cascader>
							</el-col>
							<el-col :span="3" style="text-align: right;">
								<el-button style="width: 90%;" size="small" type="primary">搜索</el-button>
							</el-col>
						</el-row>
						<el-table
							border
							size="small"
							ref="multipleTable"
							:data="buyInfo.tableData"
							tooltip-effect="dark"
							style="width: 100%;margin-top: 14px;"
							:header-cell-style="{
								'background-color': '#f7f7f7',
								'color': '#666'
							}">
							@selection-change="handleSelectionChange">
							<el-table-column
							type="selection"
							align="center"
							width="40">
							</el-table-column>
							<el-table-column
							label="客户名称"
							prop="name">
							</el-table-column>
							<el-table-column
							prop="phone"
							label="手机号码"
							width="120">
							</el-table-column>
							<el-table-column
							prop="level"
							label="客户等级"
							width="100">
							</el-table-column>
							<el-table-column
							prop="area"
							label="销售区域"
							width="100">
							</el-table-column>
						</el-table>
						<div class="page" style="margin-top: 10px;">
							<el-row type="flex" class="row-bg" justify="center">
								<el-col :span="4">
									<div class="total">已选客户0个</div>
								</el-col>
								<el-col :span="20" style="text-align: right;">
									<el-pagination
									background
									layout="prev, pager, next"
									pager-count="5"
									:total="1000">
									</el-pagination>
								</el-col>
							</el-row>
						</div>
						<span slot="footer" class="dialog-footer">
							<el-button size="small" @click="buyInfo.dialogVisible = false">取 消</el-button>
							<el-button size="small" type="primary" @click="buyInfo.dialogVisible = false">确 定</el-button>
						</span>
						</el-dialog>
					</div> -->

					<!-- 规格信息 -->
					<!-- <div class="specificationsInfo">
						<h3>
							<span>规格信息</span>
						</h3>

						<div class="addSpecificationsList" v-if="specificationsInfo.addSpecificationsState[0].state">
							<div class="addSpecificationsItem">
								<el-row type="flex" class="row-bg">
									<el-col :span="19" :offset="5" style="display: flex;">
										<span style="line-height: 34px;" class="el-form-item__label">规格项1：</span>
										<div style="width: 35%;position: relative;">
											<el-select style="width: 100%;" size="small" v-model="specificationsInfo.firstSpecificationsvalue" placeholder="新增/搜索规格项，点击或按回车键完成新增">
												<el-option
												v-for="item in specificationsInfo.firstSpecificationsOptions"
												:key="item.value"
												:label="item.label"
												:value="item.label">
												</el-option>
											</el-select>
											<i class="delect el-icon-circle-close" @click="delectSpecifications('firstspecificationsValueList', 0)"></i>
											<div class="specificationsValue" v-if="specificationsInfo.firstSpecificationsvalue">
												<ul>
													<li v-for="(item, index) in specificationsInfo.firstspecificationsValueList">{{item}}<i class="el-icon-close" @click="delect('firstspecificationsValueList', index)"></i></li>
												</ul>
											</div>
											<div @click="specificationsInfo.firstspecificationsValueIndex = 0;specificationsInfo.addSpecificationsValueState = true" class="addSpecificationsValue" v-if="specificationsInfo.firstSpecificationsvalue">添加规格值</div>
										</div>
									</el-col>
								</el-row>
							</div>
						</div>

						<div class="addSpecificationsList" v-if="specificationsInfo.addSpecificationsState[1].state">
							<div class="addSpecificationsItem">
								<el-row type="flex" class="row-bg">
									<el-col :span="19" :offset="5" style="display: flex;">
										<span style="line-height: 34px;" class="el-form-item__label">规格项2：</span>
										<div style="width: 35%;position: relative;">
											<el-select style="width: 100%;" size="small" v-model="specificationsInfo.twoSpecificationsvalue" placeholder="新增/搜索规格项，点击或按回车键完成新增">
												<el-option
												v-for="item in specificationsInfo.twoSpecificationsOptions"
												:key="item.value"
												:label="item.label"
												:value="item.label">
												</el-option>
											</el-select>
											<i class="delect el-icon-circle-close" @click="delectSpecifications('twospecificationsValueList', 1)"></i>
											<div class="specificationsValue" v-if="specificationsInfo.twoSpecificationsvalue">
												<ul>
													<li v-for="(item, index) in specificationsInfo.twospecificationsValueList">{{item}}<i class="el-icon-close" @click="delect('twospecificationsValueList', index)"></i></li>
												</ul>
											</div>
											<div @click="specificationsInfo.firstspecificationsValueIndex = 1;specificationsInfo.addSpecificationsValueState = true" class="addSpecificationsValue" v-if="specificationsInfo.twoSpecificationsvalue">添加规格值</div>
										</div>
									</el-col>
								</el-row>
							</div>
						</div>

						<div class="addSpecificationsList" v-if="specificationsInfo.addSpecificationsState[2].state">
							<div class="addSpecificationsItem">
								<el-row type="flex" class="row-bg">
									<el-col :span="19" :offset="5" style="display: flex;">
										<span style="line-height: 34px;" class="el-form-item__label">规格项3：</span>
										<div style="width: 35%;position: relative;">
											<el-select style="width: 100%;" size="small" v-model="specificationsInfo.threeSpecificationsvalue" placeholder="新增/搜索规格项，点击或按回车键完成新增">
												<el-option
												v-for="item in specificationsInfo.threeSpecificationsOptions"
												:key="item.value"
												:label="item.label"
												:value="item.label">
												</el-option>
											</el-select>
											<i class="delect el-icon-circle-close" @click="delectSpecifications('threespecificationsValueList', 2)"></i>
											<div class="specificationsValue" v-if="specificationsInfo.threeSpecificationsvalue">
												<ul>
													<li v-for="(item, index) in specificationsInfo.threespecificationsValueList">{{item}}<i class="el-icon-close" @click="delect('threespecificationsValueList', index)"></i></li>
												</ul>
											</div>
											<div @click="specificationsInfo.firstspecificationsValueIndex = 2;specificationsInfo.addSpecificationsValueState = true" class="addSpecificationsValue" v-if="specificationsInfo.threeSpecificationsvalue">添加规格值</div>
										</div>
									</el-col>
								</el-row>
							</div>
						</div>

						<div class="addSpecificationsList" v-if="specificationsInfo.addSpecificationsState[3].state">
							<div class="addSpecificationsItem">
								<el-row type="flex" class="row-bg">
									<el-col :span="19" :offset="5" style="display: flex;">
										<span style="line-height: 34px;" class="el-form-item__label">规格项4：</span>
										<div style="width: 35%;position: relative;">
											<el-select style="width: 100%;" size="small" v-model="specificationsInfo.fourSpecificationsvalue" placeholder="新增/搜索规格项，点击或按回车键完成新增">
												<el-option
												v-for="item in specificationsInfo.fourSpecificationsOptions"
												:key="item.value"
												:label="item.label"
												:value="item.label">
												</el-option>
											</el-select>
											<i class="delect el-icon-circle-close" @click="delectSpecifications('fourspecificationsValueList', 3)"></i>
											<div class="specificationsValue" v-if="specificationsInfo.fourSpecificationsvalue">
												<ul>
													<li v-for="(item, index) in specificationsInfo.fourspecificationsValueList">{{item}}<i class="el-icon-close" @click="delect('fourspecificationsValueList', index)"></i></li>
												</ul>
											</div>
											<div @click="specificationsInfo.firstspecificationsValueIndex = 3;specificationsInfo.addSpecificationsValueState = true" class="addSpecificationsValue" v-if="specificationsInfo.fourSpecificationsvalue">添加规格值</div>
										</div>
									</el-col>
								</el-row>
							</div>
						</div>

						<div style="margin: 20px 0;" class="addSpecifications" v-if="specificationsInfo.addSpecificationsStateIndex < 4">
							<el-button size="small" type="primary" @click="addSpecifications">添加规格</el-button>
						</div>

						<el-table
						v-show="!specificationsInfo.table[0].state && !specificationsInfo.table[1].state && !specificationsInfo.table[2].state && !specificationsInfo.table[3].state"
						border
						size="small"
						:data="specificationsInfo.tableData">
							<el-table-column
							width="180"
							header-align="center"
							align="right">
								<template slot="header" slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"
									placeholder="副标题"/>
								</template>
								<template slot-scope="scope">
									<el-input
									type="text"
									size="small"
									maxlength="1000"
									v-model="specificationsInfo.search"
									show-word-limit
									>
									</el-input>
								</template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center">
								<template slot="header" slot-scope="scope">
									* <el-input
									style="width: 80%;"
									v-model="specificationsInfo.search"
									size="small"
									placeholder="销售原价(元)"/>
								</template>
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center"
							align="right">
								<template slot="header" slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"
									placeholder="期初成本价(元)"/>
								</template>
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center"
							align="right">
								<template slot="header" slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"
									placeholder="期初库存"/>
								</template>
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							label="SKU编码"
							width="360"
							header-align="center"
							prop="date">
								<template slot-scope="scope">
									<el-input
									placeholder="请输入SKU编码"
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							label="条形码"
							header-align="center"
							width="180"
							prop="name">
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center"
							align="right">
								<template slot="header" slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"
									placeholder="重量(KG)"/>
								</template>
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
						</el-table>

						<el-table
						v-if="specificationsInfo.table[0].state || specificationsInfo.table[1].state || specificationsInfo.table[2].state || specificationsInfo.table[3].state"
						border
						size="small"
						:data="specificationsInfo.tableData">
							<el-table-column
							width="400"
							label="商品规格">
								<el-table-column
								width="100"
								v-if="specificationsInfo.table[0].state"
								:label="specificationsInfo.table[0].txt"
								prop="[0].name1">
								</el-table-column>
								<el-table-column
								width="100"
								v-if="specificationsInfo.table[1].state"
								:label="specificationsInfo.table[1].txt"
								prop="[1].name2">
								</el-table-column>
								<el-table-column
								width="100"
								v-if="specificationsInfo.table[2].state"
								:label="specificationsInfo.table[2].txt"
								prop="[2].name3">
								</el-table-column>
								<el-table-column
								width="100"
								v-if="specificationsInfo.table[3].state"
								:label="specificationsInfo.table[3].txt"
								prop="[3].name4">
								</el-table-column>
							</el-table-column>
							<el-table-column
							label="SKU图片"
							header-align="center"
							align="center">
								<template slot-scope="scope"></template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center"
							align="right">
								<template slot="header" slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"
									placeholder="副标题"/>
								</template>
								<template slot-scope="scope">
									<el-input
									type="text"
									size="small"
									maxlength="1000"
									v-model="specificationsInfo.search"
									show-word-limit
									>
									</el-input>
								</template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center">
								<template slot="header" slot-scope="scope">
									* <el-input
									style="width: 80%;"
									v-model="specificationsInfo.search"
									size="small"
									placeholder="销售原价(元)"/>
								</template>
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center"
							align="right">
								<template slot="header" slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"
									placeholder="期初成本价(元)"/>
								</template>
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center"
							align="right">
								<template slot="header" slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"
									placeholder="期初库存"/>
								</template>
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							label="SKU编码"
							width="360"
							header-align="center"
							prop="date">
								<template slot-scope="scope">
									<el-input
									placeholder="请输入SKU编码"
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							label="条形码"
							header-align="center"
							width="180"
							prop="name">
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
							width="180"
							header-align="center"
							align="right">
								<template slot="header" slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"
									placeholder="重量(KG)"/>
								</template>
								<template slot-scope="scope">
									<el-input
									v-model="specificationsInfo.search"
									size="small"/>
								</template>
							</el-table-column>
							<el-table-column
								width="60"
								label="操作"
								header-align="center"
								align="center">
									<template slot-scope="scope">
										<span @click="delectTableLine(scope.$index)" style="color: #5491de;cursor: pointer;">删除</span>
									</template>
							</el-table-column>
						</el-table>

						<el-dialog
						title="提示"
						:visible.sync="specificationsInfo.addSpecificationsValueState"
						width="30%">
							<el-select style="width: 100%;" size="small" v-model="specificationsInfo.addSpecificationsValueoptionsValue" multiple placeholder="请选择">
								<el-option
								v-for="item in specificationsInfo.addSpecificationsValueoptions"
								:key="item.value"
								:label="item.label"
								:value="item.label">
								</el-option>
							</el-select>
							<span slot="footer" class="dialog-footer">
								<el-button size="small" @click="specificationsInfo.addSpecificationsValueState = false">取 消</el-button>
								<el-button size="small" type="primary" @click="addSpecificationsValue">确 定</el-button>
							</span>
						</el-dialog>
					</div> -->
				</div>

				<!-- 图文详情 -->
				<div v-show="activeIndex == '2'">
					<!-- 商品描述 -->
					<h3>
						<span>商品描述</span>
					</h3>

					<!-- 富文本编辑框 -->
					<div class="summernote"></div>

					<div class="next">
						<el-button size="small" @click="activeIndex = '1'">上一步</el-button>
						<el-button size="small" @click="getSummernote">下一步</el-button>
					</div>
				</div>

				<!-- 其他信息 -->
				<div v-show="activeIndex == '3'">
					<!-- 商品信息 -->
					<div class="goodsInfo" style="margin-top: 20px;">
						<div class="goodsInfoFrom">
							<el-row type="flex" class="row-bg" justify="center">
								<el-col :span="24" :offset="4">
									<el-form ref="form" :model="form" label-width="100px">
										<el-form-item label="成本价格" style="margin-bottom: 0;">
											<el-row>
												<el-col :span="9">
													<el-input size="small" v-model="form.costPrice" placeholder="成本价格"></el-input>
												</el-col>
												<el-col :span="11">
												</el-col>
											</el-row>
										</el-form-item>
										<el-form-item label="市场价格" style="margin-bottom: 0;">
											<el-row>
												<el-col :span="9">
													<el-input size="small" v-model="form.marketPrice" placeholder="市场价格"></el-input>
												</el-col>
												<el-col :span="11">
												</el-col>
											</el-row>
										</el-form-item>
										<el-form-item label="销售价格" style="margin-bottom: 0;">
											<el-row>
												<el-col :span="9">
													<el-input size="small" v-model="form.salePrice" placeholder="销售价格"></el-input>
												</el-col>
												<el-col :span="11">
												</el-col>
											</el-row>
										</el-form-item>

										<el-form-item label="净重" style="margin-bottom: 0;">
											<el-row>
												<el-col :span="9">
													<el-input size="small" v-model="form.netWeight" placeholder="净重"></el-input>
												</el-col>
												<el-col :span="11">
												</el-col>
											</el-row>
										</el-form-item>

										<el-form-item label="毛重" style="margin-bottom: 0;">
											<el-row>
												<el-col :span="9">
													<el-input size="small" v-model="form.weight" placeholder="毛重"></el-input>
												</el-col>
												<el-col :span="11">
												</el-col>
											</el-row>
										</el-form-item>

										<el-form-item label="体积大小" style="margin-bottom: 0;">
											<el-row>
												<el-col :span="9">
													<el-input size="small" v-model="form.volume" placeholder="体积大小"></el-input>
												</el-col>
												<el-col :span="11">
												</el-col>
											</el-row>
										</el-form-item>
									</el-form>
								</el-col>
							</el-row>
						</div>
					</div>

					<!-- 添加模板 -->
					<el-dialog width="40%" title="新增筛选模板" :visible.sync="otherInfo.addTemplateState">
						<el-dialog
							width="30%"
							title="新增筛选值"
							:visible.sync="otherInfo.addScreeningState"
							append-to-body>
						</el-dialog>
						<el-row :gutter="20">
							<el-col :span="16" :offset="4">
								<el-row>
									<el-col :span="6">
										<span style="line-height: 32px;float: right;" class="el-form-item__label">* 模板名称：</span>
									</el-col>
									<el-col :span="18">
										<el-input size="small" v-model="otherInfo.templateName" placeholder="请输入筛选模板名称"></el-input>
									</el-col>
								</el-row>
								<el-row>
									<el-col :span="18" :offset="6">
										<span class="fromTitle" style="padding: 0;">请输入数字、英文或汉字、限1-40字</span>
									</el-col>
								</el-row>
							</el-col>
						</el-row>

						<div class="addSpecificationsList" v-for="(item, index) in otherInfo.screening" :key="index">
							<div class="addSpecificationsItem">
								<el-row type="flex" class="row-bg">
									<el-col :span="19" :offset="5" style="display: flex;">
										<span style="line-height: 34px;" class="el-form-item__label">筛选项{{index + 1}}：</span>
										<div style="width: 65%;position: relative;">
											<el-input size="small" v-model="item.value" placeholder="请输入筛选项名称"></el-input>
											<i class="delect el-icon-circle-close" @click="delectScreening(index)"></i>
											<div class="specificationsValue" v-if="item.list.length > 0">
												<ul>
													<li v-for="(itm, idx) in item.list">{{itm.name}}<i class="el-icon-close" @click="item.list.splice(idx, 1)"></i></li>
												</ul>
											</div>
											<el-popover
											placement="bottom"
											width="300"
											v-model="item.visible"
											trigger="click">
											<el-input style="width: 100%;" size="small" v-model="item.screeningValue" placeholder="请输入筛选值"></el-input>
											<el-row style="margin-top: 10px;">
												<el-col :span="12">
													<span style="line-height: 32px;font-size: 12px;color: #999;">1~40个字符</span>
												</el-col>
												<el-col :span="12" style="text-align: right;">
													<el-button size="small" @click="item.visible = false">取 消</el-button>
													<el-button size="small" type="primary" @click="item.list.push({name: item.screeningValue});item.visible = false;item.screeningValue = '';">确定</el-button>
												</el-col>
											</el-row>
											<div class="addSpecificationsValue" slot="reference">+ 添加规格值</div>
										  </el-popover>
										</div>
									</el-col>
								</el-row>
							</div>
						</div>

						<el-button size="small" type="primary" @click="addPreferences">新增筛选项</el-button>

						<div slot="footer" class="dialog-footer">
							<el-button size="small" @click="otherInfo.addTemplateState = false">取 消</el-button>
							<el-button size="small" type="primary" @click="addTemplate">确定</el-button>
						</div>
					</el-dialog>

					<div class="next">
						<el-button size="small" type="primary" @click="activeIndex = '2'">上一步</el-button>
						<el-button size="small" type="primary" @click="addGoods">提交</el-button>
					</div>
				</div>
			</div>
			<!-- /.box -->

		</section>
		<!-- /.content -->
	</div>
	<!-- /.content-wrapper -->

	[#include "/admin/common/footer.html"]

	<!-- Control Sidebar -->
	[#include "/admin/common/aside.html"]

	<!-- /.control-sidebar -->
	<!-- Add the sidebar's background. This div must be placed
         immediately after the control sidebar -->
	<div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->

<!-- import Vue before Element -->
<script src="${siteurl}plugins/vue-element/vue.js"></script>
<!-- import JavaScript -->
<script src="${siteurl}plugins/vue-element/element.js"></script>
<script>
	$(function(){
	 $('.summernote').summernote({
			height: 500,
			tabsize: 2,
			lang: 'zh-CN'
		});
	});
	</script>
<script>
	 var brands= [@brandJson /];
	 var labels= [@productLabelJson /];
	 var suppliers=[@supplierJson /];
	 var catalogs=[@productCatalogJson /];
	 var units=[@selectByKeyJson key="unit" /];

	var vm = new Vue({
		el: '#app',
		data: function () {
			return {
				value1: '',
				options: '',
				activeIndex: '1',
				dialogImageUrl: '',
				dialogVisible: false,
				catalogOptions:catalogs,
				standardOptions: [
					{
					value: '选项1',
					label: '黄金糕'
					}, 
					{
					value: '选项2',
					label: '双皮奶'
					}, 
					{
					value: '选项3',
					label: '蚵仔煎'
					}, 
					{
					value: '选项4',
					label: '龙须面'
					}, 
					{
					value: '选项5',
					label: '北京烤鸭'
					}
				],
				showOptions:catalogs,
				brandOptions:brands,
				supplierOptions:suppliers,
				measurementOptions:units,
				packagingOptions: [
					{
					value: '选项1',
					label: '黄金糕'
					}, 
					{
					value: '选项2',
					label: '双皮奶'
					}, 
					{
					value: '选项3',
					label: '蚵仔煎'
					}, 
					{
					value: '选项4',
					label: '龙须面'
					}, 
					{
					value: '选项5',
					label: '北京烤鸭'
					}
				],
				brandLabelOptions:labels,
				props: { checkStrictly: true, emitPath: false,label:"name",value:"id" },
				goodsState: false,
				goodsTitle: '',
				form: {
					barCode: '',
					catalog: '',
					name: '',
					standard: '',
					show: '',
					brand: '',
					supplier: '',
					unit: '',
					packaging: '',
					conversion: '',
					orderGoods: false,
					label: '',
					precision: '1',
					salePrice: '',
					marketPrice: '',
					salePrice: '',
					weight:'',
					volume:'',
					netWeight:''
				},
				form_rules: {
					name: [
						{
						required: true, //是否必填
						message: '商品名称不能为空', //规则提示
						trigger: 'blur'  //何事件触发
						},
						//可以设置多重验证标准
						{ 
						min: 2, 
						max: 120,  
						message: '长度在 2 到 120 个字符'
						}
					],
					catalog: [
						{
							required: true, //是否必填
							message: '分类不能为空', //规则提示
							trigger: 'change'  //何事件触发
						}
					]
				},
				form_brand: {
					name: ''
				},
				form_classify: {
					parent: '',
					name: ''
				},
				form_label: {
					name: ''
				},
				form_supplier: {
					name: ''
				},
				buyInfo: {
					checked: false,
					dialogVisible: false,
					customerName: '',
					customerLevel: '',
					customerLevelList: [
						{
						value: '选项1',
						label: '黄金糕'
						}, 
						{
						value: '选项2',
						label: '双皮奶'
						}, 
						{
						value: '选项3',
						label: '蚵仔煎'
						}, 
						{
						value: '选项4',
						label: '龙须面'
						}, 
						{
						value: '选项5',
						label: '北京烤鸭'
						}
					],
					area: [{
						value: 'zhinan',
						label: '指南',
						children: [{
							value: 'shejiyuanze',
							label: '设计原则',
							children: [{
								value: 'yizhi',
								label: '一致'
								}, {
								value: 'fankui',
								label: '反馈'
								}, {
								value: 'xiaolv',
								label: '效率'
								}, {
								value: 'kekong',
								label: '可控'
							}]
						}, {
							value: 'daohang',
							label: '导航',
							children: [{
								value: 'cexiangdaohang',
								label: '侧向导航'
								}, {
								value: 'dingbudaohang',
								label: '顶部导航'
							}]
						}]
					}, {
					value: 'zujian',
					label: '组件',
					children: [{
						value: 'basic',
						label: 'Basic',
						children: [{
							value: 'layout',
							label: 'Layout 布局'
							}, {
							value: 'color',
							label: 'Color 色彩'
							}, {
							value: 'typography',
							label: 'Typography 字体'
							}, {
							value: 'icon',
							label: 'Icon 图标'
							}, {
							value: 'button',
							label: 'Button 按钮'
						}]
					}, {
						value: 'form',
						label: 'Form',
						children: [{
							value: 'radio',
							label: 'Radio 单选框'
							}, {
							value: 'checkbox',
							label: 'Checkbox 多选框'
							}, {
							value: 'input',
							label: 'Input 输入框'
							}, {
							value: 'input-number',
							label: 'InputNumber 计数器'
							}, {
							value: 'select',
							label: 'Select 选择器'
							}, {
							value: 'cascader',
							label: 'Cascader 级联选择器'
							}, {
							value: 'switch',
							label: 'Switch 开关'
							}, {
							value: 'slider',
							label: 'Slider 滑块'
							}, {
							value: 'time-picker',
							label: 'TimePicker 时间选择器'
							}, {
							value: 'date-picker',
							label: 'DatePicker 日期选择器'
							}, {
							value: 'datetime-picker',
							label: 'DateTimePicker 日期时间选择器'
							}, {
							value: 'upload',
							label: 'Upload 上传'
							}, {
							value: 'rate',
							label: 'Rate 评分'
							}, {
							value: 'form',
							label: 'Form 表单'
						}]
					}, {
						value: 'data',
						label: 'Data',
						children: [{
							value: 'table',
							label: 'Table 表格'
							}, {
							value: 'tag',
							label: 'Tag 标签'
							}, {
							value: 'progress',
							label: 'Progress 进度条'
							}, {
							value: 'tree',
							label: 'Tree 树形控件'
							}, {
							value: 'pagination',
							label: 'Pagination 分页'
							}, {
							value: 'badge',
							label: 'Badge 标记'
						}]
					}, {
						value: 'notice',
						label: 'Notice',
							children: [{
							value: 'alert',
							label: 'Alert 警告'
							}, {
							value: 'loading',
							label: 'Loading 加载'
							}, {
							value: 'message',
							label: 'Message 消息提示'
							}, {
							value: 'message-box',
							label: 'MessageBox 弹框'
							}, {
							value: 'notification',
							label: 'Notification 通知'
						}]
					}, {
						value: 'navigation',
						label: 'Navigation',
						children: [{
							value: 'menu',
							label: 'NavMenu 导航菜单'
							}, {
							value: 'tabs',
							label: 'Tabs 标签页'
							}, {
							value: 'breadcrumb',
							label: 'Breadcrumb 面包屑'
							}, {
							value: 'dropdown',
							label: 'Dropdown 下拉菜单'
							}, {
							value: 'steps',
							label: 'Steps 步骤条'
						}]
					}, {
						value: 'others',
						label: 'Others',
						children: [{
							value: 'dialog',
							label: 'Dialog 对话框'
							}, {
							value: 'tooltip',
							label: 'Tooltip 文字提示'
							}, {
							value: 'popover',
							label: 'Popover 弹出框'
							}, {
							value: 'card',
							label: 'Card 卡片'
							}, {
							value: 'carousel',
							label: 'Carousel 走马灯'
							}, {
							value: 'collapse',
							label: 'Collapse 折叠面板'
						}]
					}]
				}, {
					value: 'ziyuan',
					label: '资源',
					children: [{
						value: 'axure',
						label: 'Axure Components'
					}, {
						value: 'sketch',
						label: 'Sketch Templates'
					}, {
						value: 'jiaohu',
						label: '组件交互文档'
					}]
				}],
					tableData: [{
						phone: '13151079121',
						name: '嗨乐订货管理',
						area: '全国',
						level: '112'
						}, {
						phone: '13151079121',
						name: '嗨乐订货管理',
						area: '全国',
						level: '112'
						}, {
						phone: '13151079121',
						name: '嗨乐订货管理',
						area: '全国',
						level: '112'
						}, {
						phone: '13151079121',
						name: '嗨乐订货管理',
						area: '全国',
						level: '112'
						}, {
						phone: '13151079121',
						name: '嗨乐订货管理',
						area: '全国',
						level: '112'
						}, {
						phone: '13151079121',
						name: '嗨乐订货管理',
						area: '全国',
						level: '112'
						}, {
						phone: '13151079121',
						name: '嗨乐订货管理',
						area: '全国',
						level: '112'
						}],
					multipleSelection: []
				},
				specificationsInfo: {
					addSpecificationsValueState: false,
					addSpecificationsStateIndex: 0,
					addSpecificationsState: [
						{
							index: '1',
							state: false
						},
						{
							index: '2',
							state: false
						},
						{
							index: '3',
							state: false
						},
						{
							index: '4',
							state: false
						}
					],
					addSpecificationsStateArr: [
						{
							state: false,
							txt: 'firstspecificationsValueList'
						},
						{
							state: false,
							txt: 'twospecificationsValueList'
						},
						{
							state: false,
							txt: 'threespecificationsValueList'
						},
						{
							state: false,
							txt: 'fourspecificationsValueList'
						}
					],
					addSpecificationsValueoptionsValue: '',
					addSpecificationsValueoptions: [
						{
						value: '选项1',
						label: '黄金糕'
						}, 
						{
						value: '选项2',
						label: '双皮奶'
						}, 
						{
						value: '选项3',
						label: '蚵仔煎'
						}, 
						{
						value: '选项4',
						label: '龙须面'
						}, 
						{
						value: '选项5',
						label: '北京烤鸭'
						}
					],
					firstspecificationsValueList: [],
					firstspecificationsValueIndex: 0,
					firstSpecificationsValue: '',
					firstSpecificationsOptions: [{
						value: '选项1',
						label: '黄金糕'
						}, {
						value: '选项2',
						label: '双皮奶'
						}, {
						value: '选项3',
						label: '蚵仔煎'
						}, {
						value: '选项4',
						label: '龙须面'
						}, {
						value: '选项5',
						label: '北京烤鸭'
					}],
					twospecificationsValueList: [],
					twospecificationsValueIndex: 0,
					twoSpecificationsValue: '',
					twoSpecificationsOptions: [{
						value: '选项1',
						label: '黄金糕'
						}, {
						value: '选项2',
						label: '双皮奶'
						}, {
						value: '选项3',
						label: '蚵仔煎'
						}, {
						value: '选项4',
						label: '龙须面'
						}, {
						value: '选项5',
						label: '北京烤鸭'
					}],
					threespecificationsValueList: [],
					threespecificationsValueIndex: 0,
					threeSpecificationsValue: '',
					threeSpecificationsOptions: [{
						value: '选项1',
						label: '黄金糕'
						}, {
						value: '选项2',
						label: '双皮奶'
						}, {
						value: '选项3',
						label: '蚵仔煎'
						}, {
						value: '选项4',
						label: '龙须面'
						}, {
						value: '选项5',
						label: '北京烤鸭'
					}],
					fourspecificationsValueList: [],
					fourspecificationsValueIndex: 0,
					fourSpecificationsValue: '',
					fourSpecificationsOptions: [{
						value: '选项1',
						label: '黄金糕'
						}, {
						value: '选项2',
						label: '双皮奶'
						}, {
						value: '选项3',
						label: '蚵仔煎'
						}, {
						value: '选项4',
						label: '龙须面'
						}, {
						value: '选项5',
						label: '北京烤鸭'
					}],
					tableData: [{
						name1: '',
						name2: '',
						name3: '',
						name4: ''
					}],
					search: '',
					table: [
						{
							state: false,
							txt: '',
							value: 'name1'
						},
						{
							state: false,
							txt: '',
							value: 'name2'
						},
						{
							state: false,
							txt: '',
							value: 'name3'
						},
						{
							state: false,
							txt: '',
							value: 'name4'
						}
					]
				},
				otherInfo: {
					screeningItem: '',
					keyword: '',
					keywordOptions: [],
					parameter: '',
					addTemplateState: false,
					addScreeningState: false,
					templateName: '',
					screening: []
				}
			}
		},
		mounted: function () {
			var contentWrapperHeight = $(".content-wrapper").height();
			var contentWrapperWidth = $(".content-wrapper").width();
			var navigationHeight = $(".navigation").height();
			var mainHeaderHeight = $(".main-header").height();
			var mainFooterHeight = $(".main-footer").height();
			var mainFooterPaddingTop = $(".main-footer").css("padding-top");
			var mainFooterPaddingBottom = $(".main-footer").css("padding-bottom");
			var height = contentWrapperHeight - navigationHeight - mainHeaderHeight - mainFooterHeight - 41;
			console.log(height, contentWrapperHeight, navigationHeight, mainHeaderHeight, mainFooterHeight, mainFooterPaddingTop, mainFooterPaddingBottom);
			// $(".content").height(height);
			this.activeIndex = '1';
		},
		methods: {
			getSummernote() {
				var markupStr = $('.summernote').summernote('code');
				console.log(markupStr);
				this.activeIndex = '3';
			},
			onSubmit(form) {
				var that = this;
				console.log(form);
				this.$refs[form].validate(valid => {
					console.log(valid)
					if (valid ) {
						that.activeIndex = '2';
					} else {
						that.$message({
						message: '请填写主要信息',
						type: 'warning'
						});
						return false
					}
				})
			},
			// 添加商品信息
			addGoodsInfo() {
				var that = this;
				this.goodsState = false;
				if(this.goodsTitle == '新增分类') {
					console.log(this.form_classify);
					var data = this.form_classify;
					var that=this;
					$.post("${siteurl}tenantRest/productcatalog/create.htm",data,function(result){
						if (result.code == 0) {
							that.refreshCatalog();
							that.$message({
								message: '恭喜你，新增分类成功',
								type: 'success'
							});			
						} else {
							that.$message.error('新增分类失败');
						}
					});
				} else if (this.goodsTitle == '新增品牌') {
					console.log(this.form_brand);
					var data = this.form_brand;
					var that=this;
					$.post("${siteurl}tenantRest/brand/create.htm",data,function(result){
						if (result.code == 0) {
							that.refreshBrand();
							that.$message({
								message: '恭喜你，新增品牌成功',
								type: 'success'
							});			
						} else {
							that.$message.error('新增品牌失败');
						}
					});
				} else if (this.goodsTitle == '新增标签') {
					console.log(this.form_label);
					var data = this.form_label;
					$.post("${siteurl}tenantRest/productlabel/create.htm",data,function(result){
						if (result.code == 0) {
							that.refreshLabels();
							that.$message({
								message: '恭喜你，新增标签成功',
								type: 'success'
							});			
						} else {
							that.$message.error('新增标签失败');
						}
					});
				} else if (this.goodsTitle == '新增供货商') {
					console.log(this.form_supplier);
					var data = this.form_supplier;
					var that=this;
					$.post("${siteurl}tenantRest/supplier/create.htm",data,function(result){
						if (result.code == 0) {
							that.refreshSupplier();
							that.$message({
								message: '恭喜你，新增供货商成功',
								type: 'success'
							});			
						} else {
							that.$message.error('新增供货商失败');
						}
					});
				}
			},
			// 新增商品
			addGoods() {
				console.log(this.form);
				var data = this.form;
				var that=this;
				$.post("${siteurl}tenantRest/product/create.htm",data,function(result){
					if (result.code == 0) {
						window.location.href = "${siteurl}tenant/product/view_list.htm";
						that.$message({
							message: '恭喜你，新增商品成功',
							type: 'success'
						});			
					} else {
						that.$message.error('新增商品失败');
					}
				});
			},
			refreshLabels(){
				$.post("${siteurl}tenantRest/productlabel/search.htm",{},function(result){
					if (result.code == 0) {
						Vue.set(vm.$data, 'brandLabelOptions', result.list);						
					}
				});
			},
			refreshSupplier(){
				$.post("${siteurl}tenantRest/supplier/search.htm",{},function(result){
					if (result.code == 0) {
						Vue.set(vm.$data, 'supplierOptions', result.list);						
					}
				});
			},
			refreshBrand(){
				$.post("${siteurl}tenantRest/brand/all.htm",{},function(result){
					if (result.code == 0) {
						Vue.set(vm.$data, 'brandOptions', result.list);						
					}
				});
			},
			refreshCatalog(){
				$.post("${siteurl}tenantRest/productcatalog/list.htm",{},function(result){
					if (result.code == 0) {
						Vue.set(vm.$data, 'showOptions', result.list);						
					}
				});
			},
			// 上传商品主图成功
			goodsImgSuccess(file, fileList) {
				if(file.code == 0) {
					this.form.logo= file.url;
				}
			},
			// 上传商品主图删除
			goodsImgRemove(file, fileList) {
				this.form.masterMap.forEach((item, index) => {
					if(file.response.url == item.url) {
						this.form.masterMap.splice(index, 1);
					}
				})
			},
			handleRemove() {},
			delectScreening(index) {
				console.log(index);
				this.otherInfo.screening.splice(index, 1);
			},
			addPreferences() {
				this.otherInfo.screening.push({
						state: false,
						value: '',
						visible: false,
						screeningValue: '',
						list: []
					})
			},
			addTemplate(event) {
				console.log(event);
			},
			chooseKeyword(event) {
				console.log(event);
				var arr = this.otherInfo.keywordOptions, arr1 = [];
				event.forEach((item, index) => {
					arr.push({
						value: item,
						label: item
					})
				})

				this.otherInfo.keywordOptions = arr;
			},
			openDoodsInfo(title) {
				this.goodsTitle = title;
				this.goodsState = true;
			},
			handleSelect(key, keyPath) {
				console.log(key, keyPath);
				this.activeIndex = key;
			},
			handlePictureCardPreview(file) {
				this.dialogImageUrl = file.url;
				this.dialogVisible = true;
			},
			handleClose(done) {
				done();
			},
			handleSelectionChange(val) {
				this.buyInfo.multipleSelection = val;
			},
			delectTableLine(index) {
				var name1Arr = [],name2Arr = [],name3Arr = [],name4Arr = [];
				this.specificationsInfo.tableData.splice(index, 1);
				this.specificationsInfo.tableData.forEach((item, idx) => {
					console.log(item);
					item.forEach((items, idx) => {
						console.log(items);
						if(items.name1 && name1Arr.indexOf(items.name1) == -1) name1Arr.push(items.name1);
						if(items.name2 && name2Arr.indexOf(items.name2) == -1) name2Arr.push(items.name2);
						if(items.name3 && name3Arr.indexOf(items.name3) == -1) name3Arr.push(items.name3);
						if(items.name4 && name4Arr.indexOf(items.name4) == -1) name4Arr.push(items.name4);
					})
				})
				this.specificationsInfo.firstspecificationsValueList = name1Arr;
				this.specificationsInfo.twospecificationsValueList = name2Arr;
				this.specificationsInfo.threespecificationsValueList = name3Arr;
				this.specificationsInfo.fourspecificationsValueList = name4Arr;

				console.log(name1Arr,name2Arr,name3Arr,name4Arr);
				if(this.specificationsInfo.tableData.length <= 0) {
					this.specificationsInfo.table[0].state = false;
					this.specificationsInfo.table[1].state = false;
					this.specificationsInfo.table[2].state = false;
					this.specificationsInfo.table[3].state = false;
					this.specificationsInfo.tableData = [{
						name1: '',
						name2: '',
						name3: '',
						name4: ''
					}]
				}
			},
			addSpecificationsValue() {
				if(this.specificationsInfo.firstspecificationsValueIndex == 0) {
					this.specificationsInfo.addSpecificationsValueoptionsValue.forEach(item => {
						console.log(item);
						if(this.specificationsInfo.firstspecificationsValueList.filter(itm => item == itm).length <= 0) {
							this.specificationsInfo.firstspecificationsValueList.push(item);
						}
					});
					this.specificationsInfo.addSpecificationsValueoptionsValue = '';
					this.specificationsInfo.addSpecificationsValueState = false;
					var idx = this.specificationsInfo.firstspecificationsValueIndex, txt = this.specificationsInfo.firstSpecificationsvalue;
					this.specificationsInfo.table.forEach((item, index) => {
						if(idx == index) {
							item.state = true;
							item.txt = txt;
						}
					})
					console.log(this.specificationsInfo.firstSpecificationsvalue);
				} else if(this.specificationsInfo.firstspecificationsValueIndex == 1) {
					this.specificationsInfo.addSpecificationsValueoptionsValue.forEach(item => {
						console.log(item);
						if(this.specificationsInfo.twospecificationsValueList.filter(itm => item == itm).length <= 0) {
							this.specificationsInfo.twospecificationsValueList.push(item);
						}
					});
					this.specificationsInfo.addSpecificationsValueoptionsValue = '';
					this.specificationsInfo.addSpecificationsValueState = false;
					var idx = this.specificationsInfo.firstspecificationsValueIndex, txt = this.specificationsInfo.twoSpecificationsvalue;
					this.specificationsInfo.table.forEach((item, index) => {
						if(idx == index) {
							item.state = true;
							item.txt = txt;
						}
					})
					console.log(this.specificationsInfo.twospecificationsValueList);
				} else if(this.specificationsInfo.firstspecificationsValueIndex == 2) {
					this.specificationsInfo.addSpecificationsValueoptionsValue.forEach(item => {
						console.log(item);
						if(this.specificationsInfo.threespecificationsValueList.filter(itm => item == itm).length <= 0) {
							this.specificationsInfo.threespecificationsValueList.push(item);
						}
					});
					this.specificationsInfo.addSpecificationsValueoptionsValue = '';
					this.specificationsInfo.addSpecificationsValueState = false;
					var idx = this.specificationsInfo.firstspecificationsValueIndex, txt = this.specificationsInfo.threeSpecificationsvalue;
					this.specificationsInfo.table.forEach((item, index) => {
						if(idx == index) {
							item.state = true;
							item.txt = txt;
						}
					})
					console.log(this.specificationsInfo.threespecificationsValueList);
				} else if(this.specificationsInfo.firstspecificationsValueIndex == 3) {
					this.specificationsInfo.addSpecificationsValueoptionsValue.forEach(item => {
						console.log(item);
						if(this.specificationsInfo.fourspecificationsValueList.filter(itm => item == itm).length <= 0) {
							this.specificationsInfo.fourspecificationsValueList.push(item);
						}
					});
					this.specificationsInfo.addSpecificationsValueoptionsValue = '';
					this.specificationsInfo.addSpecificationsValueState = false;
					var idx = this.specificationsInfo.firstspecificationsValueIndex, txt = this.specificationsInfo.fourSpecificationsvalue;
					this.specificationsInfo.table.forEach((item, index) => {
						if(idx == index) {
							item.state = true;
							item.txt = txt;
						}
					})
					console.log(this.specificationsInfo.tableData, this.specificationsInfo.fourspecificationsValueList);
				}

				var firstspecificationsValueList = this.specificationsInfo.firstspecificationsValueList;
				var twospecificationsValueList = this.specificationsInfo.twospecificationsValueList;
				var threespecificationsValueList = this.specificationsInfo.threespecificationsValueList;
				var fourspecificationsValueList = this.specificationsInfo.fourspecificationsValueList;

				var firstspecificationsValueListArr = [];
				firstspecificationsValueList.forEach((firstItem) => {
					firstspecificationsValueListArr.push({
						name1: firstItem
					})
				})

				var twospecificationsValueListArr = [];
				twospecificationsValueList.forEach((twoItem) => {
					twospecificationsValueListArr.push({
						name2: twoItem
					})
				})

				var threespecificationsValueListArr = [];
				threespecificationsValueList.forEach((threeItem) => {
					threespecificationsValueListArr.push({
						name3: threeItem
					})
				})

				var fourspecificationsValueListArr = [];
				fourspecificationsValueList.forEach((fourItem) => {
					fourspecificationsValueListArr.push({
						name4: fourItem
					})
				})
				var arr = [], indexArr = [];
				console.log(firstspecificationsValueListArr, twospecificationsValueListArr, threespecificationsValueListArr, fourspecificationsValueListArr);
				arr = this.discarts(firstspecificationsValueListArr, twospecificationsValueListArr, threespecificationsValueListArr, fourspecificationsValueListArr);
				console.log(arr);
				if(arr[0][0] == undefined) {
					var arr1 = [];
					arr.forEach((item) => {
						arr1.push([item]);
					})
					arr = arr1;
				}
				console.log(arr);
				this.specificationsInfo.tableData = arr;
			},
			discarts() {
				//笛卡尔积
				var twodDscartes = function (a, b) {
					var ret = [];
					for (var i = 0; i < a.length; i++) {
						for (var j = 0; j < b.length; j++) {
							ret.push(ft(a[i], b[j]));
						}
					}
					return ret;
				}
				var ft = function (a, b) {
					if (!(a instanceof Array))
						a = [a];
					var ret = a.slice(0);
					ret.push(b);
					return ret;
				}
				//多个一起做笛卡尔积
				return (function (data) {
					console.log(data);
					var data1 = [];
					for(var i = 0; i<data.length; i++) {
						if(data[i].length > 0) {
							data1.push(data[i]);
						} else {
							data1.push([
								{
									name: '11'
								}
							]);
						}
					}
					console.log(data1);
					data = data1;
					var len = data.length;
					if (len == 0)
						return [];
					else if (len == 1)
						return data[0];
					else {
						var r = data[0];
						for (var i = 1; i < len; i++) {
							r = twodDscartes(r, data[i]);
						}
						return r;
					}
				})(arguments.length > 1 ? arguments : arguments[0]);
			},
			addSpecifications() {
				var index = this.specificationsInfo.addSpecificationsStateIndex;
				this.specificationsInfo.addSpecificationsState[index].state = true;
				this.specificationsInfo.addSpecificationsStateIndex++;
			},
			delectSpecifications(str, idx) {
				this.specificationsInfo.addSpecificationsStateIndex--;
				var index = this.specificationsInfo.addSpecificationsStateIndex;
				this.specificationsInfo.addSpecificationsState[index].state = false;
				this.specificationsInfo[str] = [];
				this.specificationsInfo.table[idx].state = false;
				console.log(idx);
				if (idx == 0) {
					this.specificationsInfo.firstSpecificationsvalue = '';
				}

				if (idx == 1) {
					this.specificationsInfo.twoSpecificationsvalue = '';
				}

				if (idx == 2) {
					this.specificationsInfo.threeSpecificationsValue = '';
				}

				if (idx == 3) {
					this.specificationsInfo.fourSpecificationsValue = '';
				}

				var firstspecificationsValueList = this.specificationsInfo.firstspecificationsValueList;
				var twospecificationsValueList = this.specificationsInfo.twospecificationsValueList;
				var threespecificationsValueList = this.specificationsInfo.threespecificationsValueList;
				var fourspecificationsValueList = this.specificationsInfo.fourspecificationsValueList;

				var firstspecificationsValueListArr = [];
				firstspecificationsValueList.forEach((firstItem) => {
					firstspecificationsValueListArr.push({
						name1: firstItem
					})
				})

				var twospecificationsValueListArr = [];
				twospecificationsValueList.forEach((twoItem) => {
					twospecificationsValueListArr.push({
						name2: twoItem
					})
				})

				var threespecificationsValueListArr = [];
				threespecificationsValueList.forEach((threeItem) => {
					threespecificationsValueListArr.push({
						name3: threeItem
					})
				})

				var fourspecificationsValueListArr = [];
				fourspecificationsValueList.forEach((fourItem) => {
					fourspecificationsValueListArr.push({
						name4: fourItem
					})
				})

				var arr = [], indexArr = [];
				arr = this.discarts(firstspecificationsValueListArr, twospecificationsValueListArr, threespecificationsValueListArr, fourspecificationsValueListArr);
				console.log(arr);
				if(arr[0][0] == undefined) {
					var arr1 = [];
					arr.forEach((item) => {
						arr1.push([item]);
					})
					arr = arr1;
				}
				console.log(arr);
				this.specificationsInfo.tableData = arr;
			},
			delect(str, index) {
				console.log(this.specificationsInfo[str], str, index);
				this.specificationsInfo[str].splice(index, 1);

				var firstspecificationsValueList = this.specificationsInfo.firstspecificationsValueList;
				var twospecificationsValueList = this.specificationsInfo.twospecificationsValueList;
				var threespecificationsValueList = this.specificationsInfo.threespecificationsValueList;
				var fourspecificationsValueList = this.specificationsInfo.fourspecificationsValueList;

				var firstspecificationsValueListArr = [];
				firstspecificationsValueList.forEach((firstItem) => {
					firstspecificationsValueListArr.push({
						name1: firstItem
					})
				})

				var twospecificationsValueListArr = [];
				twospecificationsValueList.forEach((twoItem) => {
					twospecificationsValueListArr.push({
						name2: twoItem
					})
				})

				var threespecificationsValueListArr = [];
				threespecificationsValueList.forEach((threeItem) => {
					threespecificationsValueListArr.push({
						name3: threeItem
					})
				})

				var fourspecificationsValueListArr = [];
				fourspecificationsValueList.forEach((fourItem) => {
					fourspecificationsValueListArr.push({
						name4: fourItem
					})
				})

				console.log(firstspecificationsValueListArr, twospecificationsValueListArr, threespecificationsValueListArr, fourspecificationsValueListArr);

				if (firstspecificationsValueListArr.length <= 0) {
					this.specificationsInfo.table[0].state = false;
				}

				if (twospecificationsValueListArr.length <= 0) {
					this.specificationsInfo.table[1].state = false;
				}

				if (threespecificationsValueListArr.length <= 0) {
					this.specificationsInfo.table[2].state = false;
				}

				if (fourspecificationsValueListArr.length <= 0) {
					this.specificationsInfo.table[3].state = false;
				}

				var arr = [], indexArr = [];
				arr = this.discarts(firstspecificationsValueListArr, twospecificationsValueListArr, threespecificationsValueListArr, fourspecificationsValueListArr);
				console.log(arr);
				if(arr[0][0] == undefined) {
					var arr1 = [];
					arr.forEach((item) => {
						arr1.push([item]);
					})
					arr = arr1;
				}
				console.log(arr);
				this.specificationsInfo.tableData = arr;
			}
		}
	})
</script>
</body>
</html>
